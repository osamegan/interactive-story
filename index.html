<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Briana and Megan's Interactive Story</title>
</head>
<body>
 <div id="intro">
     <h1> Annie </h1>
     <p> Background: Karla was left in the woods by her mother after she was born. She stayed in the cold, dangerous woods for two days. A woodcutter and his wife saw the baby lying in a basket. His wife tells him they should raise the baby as their own but he is skeptical after seeing the baby move a tree with just a wave of her finger. The wife manages to persuade her husband to take in the baby and they decide to name her Karla(Annie’s mother).</p>
 </div>
 <div id="story">

 </div>
 <div id="buttons">

 </div>
 <script>
 let storyContainer = document.getElementById("story");

 let buttonContainer = document.getElementById("buttons");

 let history = ["introduction"];

 const story = {
     introduction : {
         text : `Annie is an 8-year-old-girl who accidentally kills her 10-year-old non-biological sister and is blamed for her death. Annie spends her time trying to find a way to bring her back`,
         choice : [
             ["continue","firstp"]
         ]
     },  
     firstp : {
         text : `Annie and her sister were out playing in the woods. A butterfly landed on the bear Tibbers and Annie’s sister chased after it and the butterfly flew over a strong current where there was a trail of boulders. Annie’s sister ran after the butterfly and before Annie could stop her sister jumped from rock to rock and just as she was about to land on the third rock her foot slipped.`,
          choice : [
                ["Lie about her death", "c1"],
                ["Try to help", "c2"],
                ["Run to get help", "c3"]
            ]
     },

     secp : {
         text : `Annie’s mother blamed her because she lost her only born child. Annie’s father told her that it was not Annie’s fault that it was just an accident. How do you respond?`,
         choice : [
             ["Lie about her death again", "c4"],
             ["Tell the truth", "c5"],
             ["Say she deserved it", "c6"]
         ]
     },
     thirdp : {
         text : `The father finds her and offers to bring her back to the house and help her get her power under control. She refuses because he didn’t say anything when she was kicked out of the cabin. Annie’s real mother gets word from Annie’s father on what had happened so she goes and finds Annie in the woods.`,
         choice : [
             ["Annie rejects her mother", "c7"],
             ["Annie rejects her mother then forgives her", "c9"],
             ["Annie forgives her mother", "c8"]
         ]
     },
     frthp : {
         text : `Annie and her mother walked into her mother’s home in Secret Falls, she looks around as she is being introduced to so many people. She feels at peace for a bit, she is not the only one anymore. Everyone stares at Annie as her mother introduces her.  Annie's Mother: "Everyone, this is Annie, the daughter I told you about, she is one of us now,"   Annie’s mom takes her to her home and inside she shows her some of the things she and her dad made for Annie when she was little. Annie’s mother for 3 years spent her time training Annie to learn her powers, making sure she would use them for good and good only. Annie learns lots such as how to control her anger and not let her anger interfere with her powers. Annie’s mother told her plenty of things of the dark world, their enemy was a cult of dark magic that they would often have to fight against. The cult would come to their village every year with some new magic to finally kill the rest of the village.  Annie's mother: "There was a war many years before you were born, many of our kind died and we’re all that’s left now."  One night Annie woke up from a nightmare, she tried to calm herself down telling herself it was just a dream. She goes outside to relax for a bit and just as she’s about to open the door she hears something fall behind her. She turns around and there is the guy dressed in all black, his face is covered by a hood.  Boy: "Annie,"" he says, "My name is Owen, I have important information you want if you wish to bring your sister back." Annie realized this was someone who isn’t her kind, no one her kind dresses like that. Out of curiosity, she agrees to listen. Owen: "Your sister, I can bring her back."   Annie: "How?"  Owen: "There’s a spell in a book we have, where you can bring your sister back the only way to cast it is by sacrificing the thing you love most, your mother or your father, you choose."   Annie: "Where is it?"  Owen: "It's in my village, if you wish to bring your sister back you must come with me,"  Annie’s mother wakes up she felt it, his presence, "he’s here," she thinks to herself. She hides around the corner hearing the conversation between Annie and Owen. She knows Annie would never be so gullible to leave with him. The talking stops, there’s silence, out of curiosity she peers around the corner just as she sees Annie is about to grab his hand and leave. Annie's Mother screams: "Annie, no, we’ll find another way!" Annie has to make a decision now does she wait to see if she can find another way or does she take her chance now and leave.`,
         choice : [
         ["Meet the cult of dark magic", "c10"],
         ["Choose the dark side and leave with him", "c11"],
         ]
     },
     c1 : {
         text : ` She fell backward and into the current and was no longer in sight. Annie ran to find her she spent all day searching but she was nowhere to be found.`,
         choice : [
             ["continue", "secp"]
         ]
     },
     c2 : {
         text : `Annie leaped forward after her but as her sister fell, Tibbers turned into a plume of smoke and flames. He grew past the size of a normal grizzly, it had a thundering voice, and its eyes glowed like the embers of a never-ending fire. It reached out to hold a boulder with one claw. While the other pulled Annie close, he ignored the sister’s cries as she fell into the mist. Annie screamed to help her and started falling in hysterics. But she was held tight by the bear’s arm, it was too late, her sister had died.`,
         choice : [
         ["continue", "secp"]
         ]
     },
     c3 : {
         text : `She fell backward and into the current and was no longer in sight. Annie ran to find anyone nearby screaming for help. No one was in sight so she ran home to get her parents. They spent the day looking for her and she was never found.`,
         choice : [
         ["continue", "secp"]
         ]
     },
     c4 : {
         text : `Annie: "What he said!" "She just slipped and fell out of sight." Annie's Father: "Annie, it wasn’t your fault, it was an accident,"   Annie runs off in anger with Tibbers. She goes to the forest and lives alone.`,
         choice : [
         ["continue", "thirdp"]
         ]
     },
     c5 : {
         text : ` Annie's Father: "Annie and her sister were out playing in the woods. A butterfly landed on the bear Tibbers and Annie’s sister chased after it and the butterfly flew over a strong current where there was a trail of boulders. Annie’s sister ran after the butterfly and before Annie could stop her sister jumped from rock to rock and just as she landed on the third rock her foot slipped. She fell backwards and into the current and was no longer in sight. Annie, it wasn’t your fault, it was an accident." Annie runs off in anger with Tibbers. She goes to the forest and lives alone.`,
         choice : [
         ["continue", "thirdp"]
         ]
     },
     c6 : {
         text : ` Annie: She deserved it, I was tired of always being the child that was hidden in the dark! I wanted the love of a family the way my sister had. I’m happy she’s gone! I waited and waited for the day when I would get enough courage to kill her but that day never came. I never had to kill her, because she built her own grave and fell into it." Annie’s mom forcibly kicked out Annie and she runs off in anger with Tibbers. She goes to the forest and lives alone.`,
         choice : [
         ["continue", "thirdp"]
         ]
     },
     c7 : {
         text : `Annie: "Who are you?" Mom: "I am your mother Annie."Annie:"What do you want from me?" Mom: "I have powers like you do Annie, I want to teach you."Annie: "No, you abandoned me!" Annie runs off and lives alone for the rest of her life.`,
     },
     c8 : {
         text : `Annie thinks to herself...She is my mother and I waited for this my entire life and now that it’s here I can not just dismiss her. Annie: "On one condition, you take me to your home town." Mom: "Okay, deal."`,
         choice : [
         ["continue", "frthp"]
         ]
     },
     c9 : {
         text : `Annie: "Who are you?"  Mom: "I am your mother Annie."  Annie: "What do you want from me?"  Mom: "I have powers like you to Annie, I want to teach you."  Annie: "Why should I let you? You abandoned me!"  Mom: "Annie please, you must learn now while you’re still young." Annie thinks to herself...She is my mother and I waited for this my entire life and now that it’s here I can’t just dismiss her.  Annie: "On one condition, you take me to your home town."  Mom: "Okay, deal."`,
         choice : [
         ["continue", "frthp"]
         ]
     },
     c10 : {
         text : `Annie turns to her mother and waved goodbye with her other hand. In a blink of an eye, she is in Owen’s village. He tells her to stay and then leaves the room and comes back with a book in his hands. She reaches to grab it and just as she’s about to, he pulls it away.   Owen: "No.I will give you this on one condition.” Annie : “What is it?”  Owen: “You must betray your kind and join us,”  Annie thinks to herself, I can find a way around it. “Okay,” she says. He hands her the book and then took her to the room where she will be living in the village now. She reads the book, “step one” it says, “go to the place where the person died.” She closes the book and thinks to herself, Ii I run off I need to know how to defend myself, she sneaks around and finds a library full of dark magic books. She pulls a few of them off the shelf and starts reading, she spends the night reading and learning how to use dark magic to defend herself. It was everything she could hope for. The morning comes, it’s 3 am and she takes the book and sneaks out her room into her home village, she peers into her home, her mother isn’t there. She enters inside and the first thing she grabs is Tibbers, she wasn't leaving him behind. She goes to her mother's pillow, she sees a hair, exactly what she needed. She grabs the hair and goes to the woods. She makes her way back to the waterfall where her sister fell and died. Owen goes to her room at about 7 am, and knocks, “Annie it’s time to introduce you to everyone, come out.” he says. No response. He twists the doorknob, it’s unlocked. “Where has she gone?” he thinks to himself. He looks around the village and she is nowhere in sight, at that very moment he realizes, she left with the book. In fury, he gathers the village together and explains to them what had happened. “We must find her before she can bring back her sister, everyone stay on guard, spread out throughout the woods to find her. I want her back alive!” he says. Annie is now at the river and she puts the book down and opens it to the page where it tells her how to bring her sister back to life. Annie starts the spell and just as she’s about to set her mother's hair on fire she gets thrown against a tree. Someone from the cult has found her, she uses all her might to fight the force. It had taken years to learn dark magic, but with all the anger and sadness she had built up in her she had found it easy to use dark magic. She was stronger than everyone on the dark side, her amount of pain could not be met by anyone else. She pulls free and throws Tibbers and chants a spell just as Tibbers is about to hit the ground he turns into a 10-foot bear. He takes Annie’s fury and kills the person who held her to the tree. She turns to him and tells him, “defend.” Tibber roars and Annie turns and gets back to her spell. She starts from the beginning, she sees her sister’s soul rise from the waterfall. She continues, she’s now at the end it's the last test, burn her mother’s strand of hair and kill her. Annie starts crying but she refused to turn back now, she creates a fireball in her hand and sets her mother's hair on fire. It’s been done, her mother is now gone. Annie looks down and starts crying, “Annie?” she hears her sister say. She wipes her tears and looks up, there she is, her sister standing before her.`
     },
     c11 : {
         text : `Annie looks at her mother and sees the heartbroken look on her face, she pulls away from Owen and runs to her mom, “You’ll come around eventually,” he says, then disappears. Annie feels hopeless, she doesn’t believe she will find a way to bring back her sister. She goes to the chief elder and tells her about how she wants to bring back her sister but he tells her he can’t bring her back but he can put her soul at rest. She asks how and he tells her to find the stone of the fallen angel but she must find out how to do it on her own. Annie goes to try and find the stone of the fallen angel but she doesn’t have any luck, she feels like giving up.  Weeks pass by of her searching for books about the stone, massive piles now covered her room. She soon gives up and goes to the chief elder, but he dies before he can tell her more information. She goes door to door asking for help but no one knew anything. One day in her dreams she dream, she had a dream about the stone, an angel came to her and told her to look at the book for hidden messages, “What book?” she asks. The angle shows her an image of which book to look for. Annie wakes and desperately starts searching through the pile of books looking for it. She finds it, it was a weird-looking book, there was a big hole in the middle as if a circle had been cut through all the pages. She reads what she can day after day until she realizes, it was right in front of her the entire time. It wasn’t in the text, it was on the picture cover. She wondered why it looked familiar and she asked her mother and her mother said, “That's the underground garden I used to take you to when you were just a baby.”Annie kissed her mother thank you and then ran off.  Annie arrived at the garden and looked around, she compared the photo to the actual view looking for any difference. She noticed there was a crack that was not in the photo. Maybe the time had worn it down she thought, to be safe she took a look. The inside of the crack was filled with cobwebs and roaches she told herself to be strong, she stuck her hand in and felt around, she couldn’t feel anything but spiderwebs but then just as she was about to put out her arm, her hand hit something. Her hand had hit something, the stone, she had found it. She thought to herself, “Now what? I have the stone now what do I do with it?” “The hole! It has to be the hole!” she thought. She ran home with the book in one hand and the stone in the other. She ran to her room and slammed the door, she laid the book down and opened it. She grabbed the stone and placed it in the hole, a perfect fit. The book started to glow and the glow grew so bright that it blinded Annie, she closed her eyes and covered them with her arms.  “Open your eyes.” she heard. She peeks through her arms, it’s her sister. “Is it you? Are you actually here?” Annie asked. “You’re unconscious, but I’m here, only in spirit, I’m here to thank you. Ever since I fell my soul hasn’t been at rest, my body was never found. It whittled over time and disappeared. I never had a body so I’ve been roaming as a spirit watching your every move, waiting to be saved, if I would ever be saved. I can finally be at peace now, thank you Annie, goodbye.” Annie’s sister said. Annie woke up with a gasp and looked around her mother was shaking her trying to get her to wake up. “Annie you’re here! I thought I had lost you!” she said. “I saw her, I saw my sister.” “She’s at rest now,” Annie said. Her mother looked at her and gave her the tightest hug. “You did it,” she said. Annie smiled and exhausted, she drifted off to sleep. Annie went on with her life, years passed by, her mother and father were back together now, everything was just the way it should be.`
     }
 }
 function makeButton(buttonText, choice){
     let button = document.createElement("button");

     button.innerHTML = buttonText;

     buttonContainer.appendChild(button);

     button.addEventListener ("click", function() {
          history.push(choice);
          console.log(history)
          playOut();
     });
    }
    
    function combineStory(text) {
        let storyItem = document.createElement("p")
        storyItem.innerText = text;
        storyContainer.appendChild(storyItem);
    }

    function playOut() {
        let pgofchoice = history[history.length - 1]; // makes the page you go to be the last item in your array history
        storyContainer.innerHTML = ""; // makes HTML start over
        buttonContainer.innerHTML = ""; // resets the buttons
        console.log(history)
        for(let page of history){ // creates your story based off of what your past choices were
            console.log(story[page].text)
            combineStory(story[page].text); 
        }
        for(let choice of story[pgofchoice].choice){ // shows different buttons based on what choices you make
            makeButton(choice[0], choice[1])
        }
    }
// credit to Mr. Fast
playOut();
</script>
</body>
</html>
